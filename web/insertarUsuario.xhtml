<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Administrador</title>
        <link href="vendor/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="vendor/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"/>
        <link href="vendor/css/datepicker3.css" rel="stylesheet"/>
        <link href="vendor/css/styles.css" rel="stylesheet"/>
        <link href="images/logo1.png" rel="shortcut icon" ></link>
        <!--Custom Font-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet"/>
        <style>
            .ui-growl-item-container{
                position:relative !important;
                margin: 40px 0 10px 0 !important;
                opacity:.85 !important;
                filter:alpha(opacity=85) !important;
            }
            .label {
                width:20%;
                padding:8px;
                color: #000;
            }
            .value {
                padding:6px;
            }

            .grid {
                width:100%;
            }

            .error {
                color: red;
            }

            .outputLabel {
                font-weight: bold;
            }

            .grid {
                width:33%;
                padding:4px;
            }
        </style>
        <script type="text/javascript">
            //<![CDATA[

            //]]> 
        </script>
    </h:head>
    <h:body> 
        <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-collapse"><span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span></button>
                    <a class="navbar-brand" href="#"><span>C M </span>Ultimo Suspiro</a>
                    <ul class="nav navbar-top-links navbar-right">
                        <form action="" method="post"><br/>
                            <input type="text" name="buscar" placeholder="Bucar..." class="form-control-sm btn btn-info"/>
                            <input type="submit" name="enviar" value="Buscar" class="btn btn-info"/>
                        </form>

                    </ul>
                </div>
            </div><!-- /.container-fluid -->
        </nav>
        <div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">
            <div class="profile-sidebar">
                <div class="profile-userpic">
                    <img src="images/admin.jpg" class="img-responsive" alt=""/>
                </div>
                <div class="profile-usertitle">
                    <div class="profile-usertitle-name">Usuario</div>
                    <div class="profile-usertitle-status"><span class="indicator label-success"></span>Online</div>
                </div>
                <div class="clear"></div>
            </div>
            <div class="divider"></div>
            <form role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Buscar.."/>
                </div>
            </form>
            <ul class="nav menu">
                <li class="active"><a href="administrador.xhtml"><spam class="glyphicon glyphicon-th-large"/>&nbsp; Administrador</a></li>
                <br></br><h3> &nbsp;Consultar</h3>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-1">
                        <em class="fa fa-navicon">&nbsp;</em> Consultar Datos 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-1" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-1">
                        <li><a class="" href="mostrarDepto.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Departamentos
                            </a>
                        </li>
                        <li><a class="" href="consultarMuni.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Municipios
                            </a>
                        </li>
                        <li><a class="" href="consultarUsuario.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Usuarios
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="parent "><a data-toggle="collapse" href="#sub-item-7">
                        <em class="fa fa-navicon">&nbsp;</em>Consultar Hospital 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-7" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-7">
                        <li><a class="" href="consultarExpe.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Expedientes
                            </a>
                        </li>
                        <li><a class="" href="consultarArea.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Areas
                            </a>
                        </li>
                        <li><a class="" href="consultarCons.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Consultorios
                            </a>
                        </li>
                        <li><a class="" href="consultarTurno.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Turnos
                            </a>
                        </li>
                        <li><a class="" href="mostrarHospital.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Hospital
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="parent "><a data-toggle="collapse" href="#sub-item-8">
                        <em class="fa fa-navicon">&nbsp;</em>Consult Medicamento
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-8" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-8">    
                        <li><a class="" href="mostrarMedicamentoTipo.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span>Medicamentos y tipos
                            </a>
                        </li>
                        <li><a class="" href="mostrarTipo.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span>Medicamentos
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-9">
                        <em class="fa fa-navicon">&nbsp;</em>Consult Enfermedad
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-9" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-9">
                        <li><a class="" href="consultar_enfermedad.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Enfermedad
                            </a>
                        </li>
                        <li><a class="" href="mostrar_tipo_emfermedad.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Tipos de Enfermedades
                            </a>
                        </li>
                    </ul>
                </li>
                <br></br><h3> &nbsp;Insertar</h3>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-6">
                        <em class="fa fa-">&nbsp;</em> In Datos Usuarios
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-6" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-6">
                        <li><a class="" href="insertarDepto.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Departamento
                            </a>
                        </li>
                        <li><a class="" href="ingresarMuni.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Municipio
                            </a>
                        </li>
                        <li><a class="" href="insertarUsuario.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Usuario
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-3">
                        <em class="fa fa-">&nbsp;</em> In Datos Hospital
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-3" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-3">
                        <li><a class="" href="ingresarCons.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Consultorio
                            </a>
                        </li>
                        <li><a class="" href="ingresarExpe.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Expediente
                            </a>
                        </li>
                        <li><a class="" href="ingresarTipo.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Tipo Medicamento
                            </a>
                        </li>
                        <li><a class="" href="insertarArea.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Area
                            </a>
                        </li>

                        <li><a class="" href="insertarHospital.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Hospital
                            </a>
                        </li>
                        <li><a class="" href="insertarTurno.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Turno
                            </a>
                        </li>

                    </ul>
                </li>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-4">
                        <em class="fa fa-">&nbsp;</em> In Medicamentos
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-4" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-4"> 
                        <li><a class="" href="ingresarMedicamento.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> medicamento
                            </a>
                        </li>
                        <li><a class="" href="ingresarMedicamentotipo.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Medicamento Tipo
                            </a>
                        </li>
                        <li><a class="" href="ingresarTipo.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Tipo Medicamento
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="parent "><a data-toggle="collapse" href="#sub-item-5">
                        <em class="fa fa-">&nbsp;</em> In Enfermedades
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;<span data-toggle="collapse" href="#sub-item-5" class="glyphicon glyphicon-plus "></span>
                    </a>
                    <ul class="children collapse" id="sub-item-5">
                        <li><a class="" href="insertaEnfermedad.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Enfermedad
                            </a>
                        </li>
                        <li><a class="" href="insertar_tipo_enfermedad.xhtml">
                                <span class="fa fa-arrow-right">&nbsp;</span> Tipo Enfermedad
                            </a>
                        </li>
                    </ul>
                </li>
                <br/>
                <li><a href="../index.xhtml"><em class="fa fa-close">&nbsp;</em> Cerrar Cesion</a></li>
            </ul>
        </div><!--/.sidebar-->

        <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main"> 
            <div class="row">
                <div class="col-lg-12">
                    <h6 class="page-header">Bienvenido #{user}</h6>
                </div>
            </div><!--/.row-->
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default text-center">
                        <h1><strong>Insertar Usuarios</strong></h1><br/><br/>
                        <h:form>

                            <p:growl id="growl" life="3000" showDetail="true"/>
                            <p:wizard flowListener="#{beanDatos.onFlowProcess}">
                                <p:tab id="personal" title="Personal">
                                    <p:panel header="Datos Personales">
                                        <p:messages />
                                        <h:panelGrid columns="4" columnClasses="label, value">
                                            <h:outputText value="Nombres Completo *"  class="text-negro"/>
                                            <p:inputText value="#{beanDatos.nombres}"  id="usuario" requiredMessage="Nombre Obligatorio" class="form-control" required="true" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Apellidos Completo *" class="text-negro" />
                                            <p:inputText value="#{beanDatos.apellido}" requiredMessage="Apellido Obligatorio" class="form-control" required="true" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Documento Unico de identidad *"  class="text-negro"/>
                                            <p:inputMask id="dui" mask="99999999-9" value="#{beanDatos.dui}" class="form-control" requiredMessage="DUI Obligatorio" required="true" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Número de Identificación Tributaria *"  class="text-negro"/>
                                            <p:inputMask id="nit" mask="9999-999999-999-9" value="#{beanDatos.nit}" class="form-control" requiredMessage="NIT Obligatorio" required="true" style="width: 300px;height: 30px;"/>

                                            <h:outputText value="Edad *"  class="text-negro" />
                                            <p:inputText value="#{beanDatos.edad}" maxlength="3" requiredMessage="edad Obligatorio" class="form-control" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Tipo de Genero *" class="text-negro" />
                                            <p:selectOneMenu id="c1" value="#{beanDatos.genero}"  title="Ingresar Genero" required="true" style="width: 300px; ">
                                                <f:selectItem itemLabel="Opciones Genero" itemValue="N" />
                                                <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                                                <f:selectItem itemLabel="Femenino" itemValue="Femenino" />
                                            </p:selectOneMenu>

                                            <h:outputText value="Correo Electronico *"  class="text-negro" />
                                            <p:inputText value="#{beanDatos.correo}" requiredMessage="Correo Obligatorio" class="form-control" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Teléfono de Contacto *"  class="text-negro" />
                                            <p:inputMask id="tel" mask="9999-9999" value="#{beanDatos.tel}" class="" requiredMessage="Telefono es obligatorio" required="true" style="width: 300px; height: 30px; "/>

                                        </h:panelGrid>
                                    </p:panel>
                                </p:tab>

                                <p:tab id="address" title="Domicilio">
                                    <p:panel header="Lugar de Recidencia">
                                        <p:messages />
                                        <h:panelGrid columns="4" columnClasses="label, value">
                                            <h:outputText value="Municipio *" />
                                            <p:selectOneMenu  value="#{beanDatos.id_muni}"  required="true" style="width: 300px; height: 30px">                                
                                                <f:selectItems value="#{beanDatos.listaMuni}" var="m" itemLabel="#{m.muni}" itemValue="#{m.idMuni}" />
                                            </p:selectOneMenu>

                                            <h:outputText value="Dirección *" />
                                            <h:inputText value="#{beanDatos.direccion}" class="form-control" title="Ingresar Direccion" requiredMessage="La direccion es obligatoria" required="true" style="width: 300px; height: 30px;"/>

                                        </h:panelGrid>
                                    </p:panel>
                                </p:tab>

                                <p:tab id="contact" title="Contactos">
                                    <p:panel header="Contactos (Si es paciente)">
                                        <p:messages />
                                        <h:panelGrid columns="2" columnClasses="label, value">
                                            <h:outputText value="Responsable de Paciente (Si es paciente)"  class="text-negro"/>
                                            <h:inputText value="#{beanDatos.responsable}" autocomplete="Nada"  class="form-control" requiredMessage="pon un valor de nada" required="false" style="width: 300px; height: 30px; "/>

                                            <h:outputText value="Telefono Responsable "  class="text-negro"/>
                                            <p:inputMask id="tel2" mask="9999-9999" value="#{beanDatos.tel_responsable}" requiredMessage="pon 0000-0000" class="form-control" required="false" style="width: 300px;height: 30px; "/>

                                        </h:panelGrid>
                                    </p:panel>
                                </p:tab>

                                <p:tab id="contact1" title="Usuario">
                                    <p:panel header="Datos de Usuario">
                                        <p:messages />
                                        <h:panelGrid columns="4" columnClasses="label, value">

                                            <h:outputText value="Nombre de Usuario *"  class="text-negro" />
                                            <p:inputText value="#{beanDatos.usuario}"  class="form-control" requiredMessage="Usuario Obligatorio" required="true" style="width: 300px;height: 30px; " />

                                            <h:outputText value="Contraseña *"  class="text-negro" />
                                            <h:inputSecret value="#{beanDatos.clave}" class="form-control" requiredMessage="PASS Obligatorio" required="true" style="width: 300px; height: 30px; "/>
                                            <h:outputText value="Codigo de Hospital *"  class="text-negro" />
                                            <p:inputText value="#{beanDatos.codigo_h}" class="form-control" requiredMessage="Codigo hospital Obligatorio" required="true" style="width: 300px;height: 30px; " />

                                            <h:outputText value="Tipo de Usuario"  class="text-negro" />
                                            <p:selectOneMenu value="#{beanDatos.id_role}"  title="Ingresar Tipo Usuario" required="true" style="width: 300px; height: 30px">                
                                                <f:selectItems value="#{beanDatos.listaRole}" var="r" itemLabel="#{r.role}" itemValue="#{r.idRole}" />
                                            </p:selectOneMenu>

                                            <h:outputText value="Turno (Si es medico)"  class="text-negro" />
                                            <p:selectOneMenu id="c3" value="#{beanDatos.id_turno}"  title="Ingresar Tipo Usuario" required="true" style="width: 300px; height: 30px">                
                                                <f:selectItems value="#{beanDatos.listaTurno}" var="t" itemLabel="d: #{t.desde.hours}:#{t.desde.minutes} a: #{t.hasta.hours} #{t.hasta.minutes} #{t.tipoTurno}" itemValue="#{t.idTurno}" />
                                            </p:selectOneMenu>

                                            <h:outputText value="Pin " class="text-negro" />
                                            <p:inputText id="counter" value="#{beanDatos.pin}">
                                                <p:ajax event="keyup" update="out" listener="#{beanDatos.handleKeyEvent}" />
                                            </p:inputText>
                                            <h:outputText value="Tu pin para recuperar contraseña es!" class="text-negro" /><br/>
                                            <h:outputText id="out" value="#{beanDatos.pin1}" />

                                        </h:panelGrid>
                                    </p:panel>
                                </p:tab>

                                <p:tab id="confirm" title="Guardar">
                                    <p:panel header="Confirmación">
                                        <h:panelGrid id="confirmation" columns="3" columnClasses="grid,grid,grid">
                                            <h:panelGrid columns="2" columnClasses="label, value">
                                                <h:outputText value="Nombres " />
                                                <h:outputText value="#{beanDatos.nombres}" styleClass="outputLabel"/>

                                                <h:outputText value="Apellidos " />
                                                <h:outputText value="#{beanDatos.apellido}" styleClass="outputLabel"/>

                                                <h:outputText value="Edad " />
                                                <h:outputText value="#{beanDatos.edad}" styleClass="outputLabel"/>


                                                <h:outputText value="Genero " />
                                                <h:outputText value="#{beanDatos.genero}" styleClass="outputLabel"/>

                                                <h:outputText value="Email " />
                                                <h:outputText value="#{beanDatos.correo}" styleClass="outputLabel"/>


                                            </h:panelGrid>

                                            <h:panelGrid columns="2" columnClasses="label, value">
                                                
                                                <h:outputText value="Direccion " />
                                                <h:outputText value="#{beanDatos.direccion}" styleClass="outputLabel"/>

                                                <h:outputText value="Telefono " />
                                                <h:outputText value="#{beanDatos.tel}" styleClass="outputLabel"/>

                                                <h:outputText value="DUI " />
                                                <h:outputText value="#{beanDatos.dui}" styleClass="outputLabel"/>

                                                <h:outputText value="NIT " />
                                                <h:outputText value="#{beanDatos.nit}" styleClass="outputLabel"/>
                                                
                                                <h:outputText value="Pin " class="text-danger" />
                                                <h:outputLink id="grow" value="#">
                                                    <h:outputText value="#{beanDatos.pin1}" styleClass="outputLabel"/>
                                                </h:outputLink>
                                                <p:tooltip id="toolTipGrow" for="grow" value="Debes guardar el pin para recuperar tu contraseña"
                                                           showEffect="clip" hideEffect="explode" position="left"/>

                                            </h:panelGrid>

                                            <h:panelGrid columns="2" columnClasses="label, value">
                                                <h:outputText value="Persona Responsable " />
                                                <h:outputText value="#{beanDatos.responsable}" styleClass="outputLabel"/>

                                                <h:outputText value="Telefono de Responsable " />
                                                <h:outputText value="#{beanDatos.tel_responsable}" styleClass="outputLabel"/>

                                                <h:outputText value="Turno (Si es medico) " />
                                                <h:outputText value="#{beanDatos.id_turno}" styleClass="outputLabel"/>

                                                <h:outputText value="Nombre de Usuario " />
                                                <h:outputText value="#{beanDatos.usuario}" styleClass="outputLabel"/>

                                                <h:outputText value="Contraseña " />
                                                <h:outputText value="#{beanDatos.clave}" styleClass="outputLabel"/>

                                                <h:outputText />
                                                <h:outputText />
                                            </h:panelGrid>
                                        </h:panelGrid>
                                        <p:commandButton value="Guardar Datos" action="#{beanDatos.insertBean()}" update="growl" process="@this"/>
                                    </p:panel>
                                </p:tab>
                            </p:wizard>

                        </h:form>
                        <hr></hr>
                    </div>
                </div>
            </div><!--/.row-->
            <div class="row">
                <div class="col-sm-12">
                    <p class="back-link">Power By <a href="/administrador.xhtml">CDS USAM</a></p>
                </div>
            </div><!--/.row-->
        </div>	<!--/.main-->      
        <script src="vendor/js/bs3/bootstrap.min.js"></script>
    </h:body>
</html>

